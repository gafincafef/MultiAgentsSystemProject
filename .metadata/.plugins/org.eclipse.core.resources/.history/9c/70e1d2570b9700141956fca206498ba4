package edu.rits.ma.jade.agent;

import agents.SecondaryAgent;
import jade.wrapper.AgentController;
import jade.wrapper.StaleProxyException;
import jade.wrapper.gateway.GatewayAgent;

public class PrimaryAgent extends GatewayAgent {

	/**
	 * 
	 */
	private static final long serialVersionUID = 4166260446398994126L;
	
	@Override
	protected void setup() {
		super.setup();
		System.out.println("Setup called on agent sample " + getAID().getLocalName()
				+ " in container " + getAMS().getName());
		setEnabledO2ACommunication(true, 0);
		
		onSetupArgumentsParsed();
	}
	
	private void onSetupArgumentsParsed() {
		Object[] args = getArguments();
		if(args != null && args.length > 0) {
			int numberOfSecondaryAgents = (Integer) args[0];
			String secondaryAgentClassName = (String) args[1];
			createAndStartSecondaryAgents(numberOfSecondaryAgents, secondaryAgentClassName);
		}
	}
	
	private void createAndStartSecondaryAgents(int numberOfSecondaryAgents, String secondaryAgentClassName) {
		try {
			for(int i = 0; i < numberOfSecondaryAgents; i++) {
				
			}
		} 
		catch (StaleProxyException e) {
			e.printStackTrace();
		}
	}
}
